<view class="page" style="background:#fff;">
  <!-- 调试：能看到品牌名就说明 theme/schema 已加载 -->
  <view class="brand">
    <text>品牌：{{theme.name || 'N/A'}}</text>
    <text style="margin-left:20rpx;">sections: {{sections.length}}</text>
  </view>

  <!-- 按 schema 渲染 -->
  <block wx:for="{{sections}}" wx:key="index">
    <block wx:if="{{item.type==='banner'}}">
      <block-banner banners="{{homeData.banners || []}}" />
    </block>

    <block wx:elif="{{item.type==='entryRow'}}">
      <block-entry-row items="{{item.items || []}}" />
    </block>

    <block wx:elif="{{item.type==='hscrollEvents'}}">
      <block-hscroll-events title="{{item.title}}" items="{{homeData[item.dataKey] || []}}" />
    </block>

    <block wx:elif="{{item.type==='hscrollMerch'}}">
      <block-hscroll-merch wx:if="{{features.enableMerch}}" title="{{item.title}}" items="{{homeData.merch || []}}" />
    </block>
  </block>

  <view wx:if="{{loading}}" class="skeleton">加载中...</view>
  <view wx:if="{{!loading && empty}}" class="empty">暂无内容</view>
</view>
